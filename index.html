<!DOCTYPE html>
<html>
<head>
    <style>
        #rechargeForm {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Recharge Balance: <span id="balance">0</span></h1>
    <button id="rechargeButton">Recharge</button>

    <div id="rechargeForm">
        <label for="nameInput">Name:</label>
        <input type="text" id="nameInput"><br>
        <label for="amountInput">Amount:</label>
        <input type="number" id="amountInput"><br>
        <button id="confirmButton">Confirm</button>
    </div>

    <script>
        let balance = parseInt(localStorage.getItem('balance')) || 0;
        let data = JSON.parse(localStorage.getItem('data')) || [
            { Name: 'A', Amount: 50 },
            { Name: 'B', Amount: 30 }
        ];

        const balanceElement = document.getElementById('balance');
        const rechargeButton = document.getElementById('rechargeButton');
        const rechargeForm = document.getElementById('rechargeForm');
        const nameInput = document.getElementById('nameInput');
        const amountInput = document.getElementById('amountInput');
        const confirmButton = document.getElementById('confirmButton');

        balanceElement.textContent = balance;

        rechargeButton.addEventListener('click', () => {
            rechargeForm.style.display = 'block';
        });

        confirmButton.addEventListener('click', () => {
            const name = nameInput.value;
            const amount = parseInt(amountInput.value);
            const matchIndex = data.findIndex(item => item.Name === name && item.Amount === amount);

            if (matchIndex !== -1) {
                balance += amount;
                balanceElement.textContent = balance;
                localStorage.setItem('balance', balance);

                // Remove the used data entry
                data.splice(matchIndex, 1);
                localStorage.setItem('data', JSON.stringify(data));
            } else {
                alert("Invalid name or amount. Please try again.");
            }

            nameInput.value = '';
            amountInput.value = '';
            rechargeForm.style.display = 'none';
        });
    </script>
</body>
</html>
